<script type="text/javascript">

  var game = new Phaser.Game(1024, 768, Phaser.AUTO, '', { preload: preload, create: create, update: update, render: render });

  function preload(){

    game.load.spritesheet('dude', '/images/bug_sprite_sheet.png', 32, 48);
    game.load.image('invisible_line', '/images/blank_line.png');
    game.load.image('purp_line', '/images/purp_line.png');

    // main images for world
    game.load.image('logo', '/images/logo2.png');
    game.load.spritesheet('arrow', '/images/arrow.png', 413, 437);
    game.load.spritesheet('start', '/images/start courier.png', 708.5, 236);
    game.load.spritesheet('highScore', '/images/high score courier.png', 1063, 236);
    game.load.image('background', '/images/background.png');
    game.load.image('backgroundKey', '/images/background_key.png');
    game.load.image('log1', '/images/log_1.png');
    game.load.image('log2', '/images/log_2.png');
    game.load.image('log3', '/images/log_3.png');
    game.load.image('log4', '/images/log_4.png');
    game.load.image('sawmill', '/images/house_with_window_curtains.png');
    game.load.image('wheel', '/images/wheel.png');
    game.load.image('cloud1', '/images/cloud_1.png');
    game.load.image('cloud2', '/images/cloud_2.png');
    game.load.image('cloud3', '/images/cloud_3.png');
    game.load.image('cloud4', '/images/cloud_4.png');
    game.load.image('cloud5', '/images/cloud_5.png');
    game.load.image('cloud6', '/images/cloud_6.png');
    game.load.image('tree', '/images/tree.png');
    game.load.image('grass1', '/images/grass_1.png');
    game.load.image('grass2', '/images/grass_2.png');
    game.load.image('grass3', '/images/grass_3.png');
    game.load.image('grass4', '/images/grass_4.png');
    game.load.image('rock1', '/images/rock_1.png');
    game.load.image('rock2', '/images/rock_2.png');
    game.load.image('water', '/images/water.png');
    // level 1 images
    game.load.image('levelOneBackground', '/images/level_1_background.png');
    game.load.image('branch1', '/images/branch_1.png');
    game.load.image('branch2', '/images/branch_2.png');
    game.load.image('branch3', '/images/branch_3.png');
    game.load.image('branch4', '/images/branch_4.png');
    game.load.image('cobweb', '/images/cobweb.png');
    game.load.image('spider_with_web', '/images/spider_with_web.png');
    // level 2 images
    // game.load.image('webstring', '/images/webstring');
    // game.load.spritesheet('hangingspider', '/images/hangingspider');
    // game.load.spritesheet('frogmouth', '/images/frogmouth');
    // level 3 images
    game.load.image('smilingfrog', '/images/frog_mouth_open.png');
    game.load.image('frog', '/images/frog_mouth_closed.png');
    // game.load.spritesheet('frogtongue', '/images/frogtongue');
    // game.load.spritesheet('fly1', '/images/fly1');
    // game.load.spritesheet('fly2', '/images/fly2');
    // game.load.spritesheet('bird1', '/images/bird1');
    // level 4 images
    // game.load.image('crosshair', '/images/crosshair');
    // game.load.spritesheet('bird2', '/images/bird2');
    // game.load.spritesheet('bird3', '/images/bird3');
    // game.load.spritesheet('fallingbird', '/images/fallingbird');
  }

  var platforms;

  function create(){

    game.physics.startSystem(Phaser.Physics.ARCADE);

    game.add.image(0, 0, 'background');

    createCloud = function(x, y, xVelocity, image)
    {
        cloud = game.add.sprite(x, y, image);
        game.physics.arcade.enable(cloud);
        cloud.enableBody = true;
        cloud.body.immovable = true;
        cloud.body.collideWorldBounds = true;
        cloud.body.velocity.x = xVelocity;
        cloud.body.bounce.setTo(1, 1);
    }

    createCloud(0, 15, 5, 'cloud1')
    createCloud(0, 380, 2, 'cloud2');
    createCloud(335, 85, -3, 'cloud3');
    createCloud(595, 270, -5, 'cloud4');
    createCloud(650, 30, -4, 'cloud5');
    createCloud(854, 258, 1, 'cloud6');

    // game.add.image(235, 535, 'grass3');

    game.add.image(25, 40, 'tree');

    sawmill = game.add.image(760, 415, 'sawmill');
    sawmill.scale.x = game.rnd.realInRange(1.04, 1.04);
    sawmill.scale.y = game.rnd.realInRange(1.04, 1.04);

    game.add.image(50, 540, 'grass1');

    game.add.image(455, 540, 'grass2');

    game.add.image(655, 560, 'grass4');

    spinningWheel = game.add.image(1000, 620, 'wheel');
    spinningWheel.anchor.setTo(0.5, 0.5);

    
    platforms = game.add.group();

    platforms.enableBody = true;

    var logo = game.add.image(415, 41, 'logo');
    logo.scale.x = game.rnd.realInRange(.26, .26);
    logo.scale.y = game.rnd.realInRange(.26, .26);

    var arrow = game.add.sprite(493, 190, 'arrow');
    arrow.scale.x = game.rnd.realInRange(.1, .1);
    arrow.scale.y = game.rnd.realInRange(.1, .1);
    var start = game.add.sprite(555, 155, 'start');
    start.scale.x = game.rnd.realInRange(.4, .4);
    start.scale.y = game.rnd.realInRange(.4, .4);
    var highScore = game.add.sprite(555, 235, 'highScore');
    highScore.scale.x = game.rnd.realInRange(.4, .4);
    highScore.scale.y = game.rnd.realInRange(.4, .4);



    ledge = platforms.create(555, 90, 'purp_line');
    ledge.scale.x = game.rnd.realInRange(3.85, 3.85);
    ledge.body.immovable = true;
    ledge = platforms.create(500, 80, 'purp_line');
    ledge.scale.x = game.rnd.realInRange(.5, .5);
    ledge.body.immovable = true;

    var ground = platforms.create(0, game.world.height -5, 'log1');

    var rock1 = platforms.create(300, 650, 'rock1');
    rock1.scale.x = game.rnd.realInRange(.55, .55);
    rock1.scale.y = game.rnd.realInRange(.55, .55);

    rock1.body.immovable = true;

    var rock2 = platforms.create(485, 655, 'rock2');
    rock2.scale.x = game.rnd.realInRange(.55, .55);
    rock2.scale.y = game.rnd.realInRange(.55, .55);

    rock2.body.immovable = true;

    game.add.image(-5, 685, 'water');

    ground.scale.setTo(50,3);

    ground.body.immovable = true;

    cursors = game.input.keyboard.createCursorKeys();


// set interval

    game.time.events.loop(Phaser.Timer.SECOND * 17, logFloat, this);
    logFloat();
    function logFloat() {
    ledge = platforms.create(1100, 675, 'log1');
    ledge.body.immovable = true;
    ledge.body.velocity.x = -90;
    ledge = platforms.create(1500, 655, 'log3');
    ledge.body.immovable = true;
    ledge.body.velocity.x = -92;
    ledge = platforms.create(1900, 670, 'log4');
    ledge.body.immovable = true;
    ledge.body.velocity.x = -88;
    ledge = platforms.create(2250, 670, 'log2');
    ledge.body.immovable = true;
    ledge.body.velocity.x = -91;
    }

    frog = game.add.sprite(780, game.world.height - 1000, 'smilingfrog')
    frog.scale.x = game.rnd.realInRange(.12,.12);
    frog.scale.y = game.rnd.realInRange(.12,.12);
    game.physics.arcade.enable(frog);

    frog.body.bounce.y = 0.1;
    frog.body.gravity.y = 1000;
    frog.body.collideWorldBounds = true;

    cursors = game.input.keyboard.createCursorKeys();
    arrow.animations.add('blink', [0, 1], 2.2, true);
    arrow.animations.play('blink')
    start.animations.add('blink', [1, 0], .55, true);
    start.animations.play('blink')
    highScore.animations.add('blink', [1, 0], .55, true);
    highScore.animations.play('blink')

  }

  function update(){

    spinningWheel.angle += 1;

    game.physics.arcade.collide(frog, platforms);

    }

  function render(){


  }

  </script>