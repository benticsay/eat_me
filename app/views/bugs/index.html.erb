<script type="text/javascript">

  var game = new Phaser.Game(1024, 768, Phaser.AUTO, '', { preload: preload, create: create, update: update });

  game.camera = Phaser.Camera(200,200)

  function preload(){

    game.load.image('paper', '/images/paperbackground.jpg');
    game.load.image('treehouse', '/images/reincarnagebackdropidea.png');
    game.load.image('star', '/images/star.png');
    game.load.spritesheet('dude', '/images/dude.png', 32, 48);
    game.load.image('log1', '/images/platform01.png');
    game.load.image('log2', '/images/platform02.png');
    // main images for world
    // game.load.image('log3', '/images/log3');
    // game.load.image('log4', '/images/log4');
    // game.load.image('log5', '/images/log5');
    // game.load.image('sawmill', '/images/sawmill');
    // game.load.image('cloud1', '/images/cloud1');
    // game.load.image('cloud2', '/images/cloud2');
    // game.load.image('cloud3', '/images/cloud3');
    // game.load.image('cloud4', '/images/cloud4');
    // game.load.image('treetop', '/images/treetop');
    // game.load.image('treetrunk', '/images/treetrunk');
    // game.load.image('grass1', '/images/grass1');
    // game.load.image('grass2', '/images/grass2');
    // game.load.image('grass3', '/images/grass3');
    // game.load.image('rock1', '/images/rock1');
    // game.load.image('rock2', '/images/rock2');
    // game.load.image('rock3', '/images/rock3');
    // game.load.image('water1', '/images/water1');
    // game.load.image('water2', '/images/water2');
    // level 1 images
    // game.load.image('acorn', '/images/acorn');
    // game.load.image('branch1', '/images/branch1');
    // game.load.image('branch2', '/images/branch2');
    // game.load.image('branch3', '/images/branch3');
    // game.load.image('branch4', '/images/branch4');
    // game.load.image('branch5', '/images/branch5');
    // game.load.image('cobweb', '/images/cobweb');
    // game.load.spritesheet('bug', '/images/bug');
    // level 2 images
    // game.load.image('webstring', '/images/webstring');
    // game.load.spritesheet('hangingspider', '/images/hangingspider');
    // game.load.spritesheet('frogmouth', '/images/frogmouth');
    // level 3 images
    game.load.spritesheet('frog', '/images/frog.png', 115, 65);
    // game.load.spritesheet('frogtongue', '/images/frogtongue');
    // game.load.spritesheet('fly1', '/images/fly1');
    // game.load.spritesheet('fly2', '/images/fly2');
    // game.load.spritesheet('bird1', '/images/bird1');
    // level 4 images
    // game.load.image('crosshair', '/images/crosshair');
    // game.load.spritesheet('bird2', '/images/bird2');
    // game.load.spritesheet('bird3', '/images/bird3');
    // game.load.spritesheet('fallingbird', '/images/fallingbird');
  }

  var platforms;

  function create(){

    game.physics.startSystem(Phaser.Physics.ARCADE);

    game.add.sprite(0, 0, 'paper');

    game.add.sprite(0, 0, 'treehouse');

    game.world.setBounds(0, 0, 10, 10);

    platforms = game.add.group();

    platforms.enableBody = true;

    var ground = platforms.create(0, game.world.height -5, 'log1');

    ground.scale.setTo(50,3);

    ground.body.immovable = true;

    cursors = game.input.keyboard.createCursorKeys();

    ledge = platforms.create(0, 50, 'log1');
    ledge.body.immovable = true;
    ledge = platforms.create(100, 150, 'log1');
    ledge.body.immovable = true;
    ledge = platforms.create(200, 250, 'log1');
    ledge.body.immovable = true;
    ledge = platforms.create(300, 350, 'log1');
    ledge.body.immovable = true;


    var tid = setTimeout(logFloat);
    function logFloat() {
    ledge = platforms.create(1100, 688, 'log1');
    ledge.body.immovable = true;
    ledge.body.velocity.x = -90;
    ledge = platforms.create(1500, 690, 'log2');
    ledge.body.immovable = true;
    ledge.body.velocity.x = -92;
    ledge = platforms.create(1900, 687, 'log2');
    ledge.body.immovable = true;
    ledge.body.velocity.x = -88;
    ledge = platforms.create(2250, 689, 'log1');
    ledge.body.immovable = true;
    ledge.body.velocity.x = -91;
    tid = setTimeout(logFloat, 17000); // repeat myself
    }

    var acorns = setTimeout(acornBounce);
    function acornBounce() {
    acorn = platforms.create(-15, 0, 'star');
    acorn.body.velocity.x = 5;
    acorns = setTimeout(acornBounce, 17000); // repeat myself
    }

    frog = game.add.sprite(0, game.world.height - 1000, 'dude')
    game.physics.arcade.enable(frog);

    frog.body.bounce.y = 0.1;
    frog.body.gravity.y = 1000;
    frog.body.collideWorldBounds = true;

    frog.animations.add('left', [0, 1, 2], 6, true);
    frog.animations.add('right', [3, 4, 5], 6, true);

    
    acorn.body.bounce.y = 0.1;
    acorn.body.gravity.y = 1000;

    cursors = game.input.keyboard.createCursorKeys();

  }

  function update(){

    game.physics.arcade.collide(frog, platforms);
    game.physics.arcade.collide(acorn, platforms);

    if (frog.body.touching.down)
    {
    frog.body.velocity.x = 0;
    }

    if (cursors.left.isDown && frog.body.touching.down)
    {
      // hop frog to left
      frog.body.velocity.y = -100

      frog.body.velocity.x = -200

      frog.animations.play('left');
    }
    else if (cursors.right.isDown && frog.body.touching.down)
    {
      // hop frog right
      frog.body.velocity.y = -100

      frog.body.velocity.x = 200

      frog.animations.play('right');

    }
    else
    {
      frog.animations.stop();

      frog.frame = 4;
    }

    if (cursors.up.isDown && frog.body.touching.down)
    {
      frog.body.velocity.y = -450;
      if (cursors.left.isDown)
      {
        frog.body.velocity.x = -200

        frog.animations.play('left');
      }
      else if (cursors.right.isDown)
      {
        frog.body.velocity.x = 200

        frog.animations.play('right');
      }
    }

  }

  </script>