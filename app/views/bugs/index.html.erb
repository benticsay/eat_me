<script type="text/javascript">

  var game = new Phaser.Game(1024, 768, Phaser.AUTO, '', { preload: preload, create: create, update: update });

  game.camera = Phaser.Camera(200,200)

  function preload(){

    game.load.image('paper', '/images/paperbackground.jpg');
    game.load.image('treehouse', '/images/reincarnagebackdropidea.png');
    game.load.image('star', '/images/star.png');
    game.load.spritesheet('dude', '/images/dude.png', 32, 48);
    game.load.image('log1', '/images/platform01.png');
    game.load.image('log2', '/images/platform02.png');
    // game.load.image('log3', '/images/log3');
    // game.load.image('log4', '/images/log4');
    // game.load.image('log5', '/images/log5');
    // game.load.image('sawmill', '/images/sawmill');
    // game.load.image('cloud1', '/images/cloud1');
    // game.load.image('cloud2', '/images/cloud2');
    // game.load.image('cloud3', '/images/cloud3');
    // game.load.image('cloud4', '/images/cloud4');
    // game.load.image('treetop', '/images/treetop');
    // game.load.image('treetrunk', '/images/treetrunk');
    // game.load.image('grass1', '/images/grass1');
    // game.load.image('grass2', '/images/grass2');
    // game.load.image('grass3', '/images/grass3');
    // game.load.image('rock1', '/images/rock1');
    // game.load.image('rock2', '/images/rock2');
    // game.load.image('rock3', '/images/rock3');
    // game.load.image('water1', '/images/water1');
    // game.load.image('water2', '/images/water2');
    // game.load.image('acorn', '/images/acorn');
    // game.load.image('branch1', '/images/branch1');
    // game.load.image('branch2', '/images/branch2');
    // game.load.image('branch3', '/images/branch3');
    // game.load.image('branch4', '/images/branch4');
    // game.load.image('branch5', '/images/branch5');
    // game.load.image('cobweb', '/images/cobweb');
    // game.load.image('webstring', '/images/webstring');
    // game.load.image('crosshair', '/images/crosshair');
    // game.load.spritesheet('bug', '/images/bug');
    // game.load.spritesheet('hangingspider', '/images/hangingspider');
    // game.load.spritesheet('frogmouth', '/images/frogmouth');
    // game.load.spritesheet('frog', '/images/frog');
    // game.load.spritesheet('frogtongue', '/images/frogtongue');
    // game.load.spritesheet('fly1', '/images/fly1');
    // game.load.spritesheet('fly2', '/images/fly2');
    // game.load.spritesheet('bird1', '/images/bird1');
    // game.load.spritesheet('bird2', '/images/bird2');
    // game.load.spritesheet('bird3', '/images/bird3');
    // game.load.spritesheet('fallingbird', '/images/fallingbird');
  }

  var platforms;

  function create(){

    game.physics.startSystem(Phaser.Physics.ARCADE);

    game.add.sprite(0, 0, 'paper');

    game.add.sprite(0, 0, 'treehouse');

    game.world.setBounds(0, 0, 10, 10);

    platforms = game.add.group();

    platforms.enableBody = true;

    var ground = platforms.create(0, game.world.height -5, 'log1');

    ground.scale.setTo(50,3);

    ground.body.immovable = true;

    var tid = setTimeout(logFloat);
    function logFloat() {
    var ledge = platforms.create(1100, 688, 'log1');
    ledge.body.immovable = true;
    ledge.body.velocity.x = -100;
    var ledge = platforms.create(1500, 690, 'log2');
    ledge.body.immovable = true;
    ledge.body.velocity.x = -100;
    var ledge = platforms.create(1900, 687, 'log2');
    ledge.body.immovable = true;
    ledge.body.velocity.x = -100;
    var ledge = platforms.create(2250, 689, 'log1');
    ledge.body.immovable = true;
    ledge.body.velocity.x = -100;
    tid = setTimeout(logFloat, 15500); // repeat myself
    }

    player = game.add.sprite(1002, game.world.height - 450, 'dude')
    game.physics.arcade.enable(player);

    player.body.bounce.y = 0.1;
    player.body.gravity.y = 400;
    player.body.collideWorldBounds = true;

    player.animations.add('left', [0, 1, 2, 3], 10, true);
    player.animations.add('right', [5, 6, 7, 8], 10, true);

    cursors = game.input.keyboard.createCursorKeys();

  }

  function update(){

    game.physics.arcade.collide(player, platforms);

    player.body.velocity.x = 0;

    if (cursors.left.isDown)
    {
      // move player to left
      player.body.velocity.x = -200

      player.animations.play('left');
    }
    else if (cursors.right.isDown)
    {
      // move player right
      player.body.velocity.x = 200

      player.animations.play('right');
    }
    else if (cursors.down.isDown)
    {
      player.body.velocity.y = 400;

      player.frame = 4;
    }
    else
    {
      player.animations.stop();

      player.frame = 4;
    }

    if (cursors.up.isDown && player.body.touching.down)
    {
      player.body.velocity.y = -350;
    }

  }

  </script>